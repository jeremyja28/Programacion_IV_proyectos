{% extends "base.html" %}

{% block title %}Inicio - Sistema de Grafos{% endblock %}

{% block page_title %}Sistema de Grafos{% endblock %}

{% block content %}
<!-- Estadísticas -->
<div class="row">
  <div class="col-lg-3 col-6">
    <div class="small-box bg-info">
      <div class="inner">
        <h3>{{ graph_stats.total_provincias }}</h3>
        <p>Provincias</p>
      </div>
      <div class="icon">
        <i class="fas fa-map"></i>
      </div>
    </div>
  </div>
  
  <div class="col-lg-3 col-6">
    <div class="small-box bg-success">
      <div class="inner">
        <h3>{{ graph_stats.total_ciudades }}</h3>
        <p>Ciudades</p>
      </div>
      <div class="icon">
        <i class="fas fa-city"></i>
      </div>
    </div>
  </div>
  
  <div class="col-lg-3 col-6">
    <div class="small-box bg-warning">
      <div class="inner">
        <h3>{{ graph_stats.total_rutas }}</h3>
        <p>Rutas</p>
      </div>
      <div class="icon">
        <i class="fas fa-route"></i>
      </div>
    </div>
  </div>
  
  <div class="col-lg-3 col-6">
    <div class="small-box bg-danger">
      <div class="inner">
        <h3>{{ graph_stats.ciudades_costeras }}</h3>
        <p>Ciudades Costeras</p>
      </div>
      <div class="icon">
        <i class="fas fa-water"></i>
      </div>
    </div>
  </div>
</div>

<!-- Información General -->
<div class="row">
  <div class="col-12">
    <div class="card">
      <div class="card-header">
        <h3 class="card-title">
          <i class="fas fa-info-circle"></i>
          Información General del Sistema
        </h3>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-8">
            <h4>Bienvenido al Sistema de Grafos</h4>
            <p class="text-muted">
              Este sistema permite gestionar y visualizar grafos de rutas entre ciudades usando el algoritmo de Dijkstra.
            </p>
            
            <div class="mt-4">
              <h5>Funcionalidades principales:</h5>
              <ul class="list-unstyled">
                <li><i class="fas fa-check-circle text-success"></i> Gestión de <strong>Provincias</strong></li>
                <li><i class="fas fa-check-circle text-success"></i> Gestión de <strong>Ciudades</strong> (costeras y no costeras)</li>
                <li><i class="fas fa-check-circle text-success"></i> Gestión de <strong>Rutas</strong> con pesos</li>
                <li><i class="fas fa-check-circle text-success"></i> Búsqueda de <strong>rutas óptimas</strong> usando algoritmo de Dijkstra</li>
                <li><i class="fas fa-check-circle text-success"></i> Visualización gráfica del grafo</li>
              </ul>
            </div>

            <div class="mt-4">
              <h5>Tipos de usuario:</h5>
              <div class="row">
                <div class="col-md-6">
                  <div class="info-box bg-success">
                    <span class="info-box-icon"><i class="fas fa-user-shield"></i></span>
                    <div class="info-box-content">
                      <span class="info-box-text">Administrador</span>
                      <span class="info-box-number">Gestión completa</span>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="info-box bg-info">
                    <span class="info-box-icon"><i class="fas fa-user"></i></span>
                    <div class="info-box-content">
                      <span class="info-box-text">Usuario</span>
                      <span class="info-box-number">Solo visualización</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <div class="col-md-4">
            <div class="info-box">
              <span class="info-box-icon bg-info"><i class="fas fa-user"></i></span>
              <div class="info-box-content">
                <span class="info-box-text">Tu rol</span>
                <span class="info-box-number">
                  {% if current_user.es_admin %}
                    Administrador
                  {% else %}
                    Usuario
                  {% endif %}
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Acciones Rápidas -->
<div class="row">
  <div class="col-12">
    <div class="card">
      <div class="card-header">
        <h3 class="card-title">
          <i class="fas fa-bolt"></i>
          Acciones Rápidas
        </h3>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-6">
            <a href="{{ url_for('grafo.index') }}" class="btn btn-primary btn-block btn-lg">
              <i class="fas fa-project-diagram"></i>
              Gestionar Grafos
            </a>
            <p class="text-muted text-center mt-2">
              Gestiona provincias, ciudades y rutas
            </p>
          </div>
          
          {% if current_user.es_admin %}
          <div class="col-md-6">
            <a href="{{ url_for('user.index') }}" class="btn btn-warning btn-block btn-lg">
              <i class="fas fa-users"></i>
              Gestionar Usuarios
            </a>
            <p class="text-muted text-center mt-2">
              Administrar usuarios del sistema
            </p>
          </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
